{% extends "modelagem/base.html" %} {% block body %} {% load static %} <div id="info_loading" style="padding-top: 10px;" class="alert alert-warning" role="alert"><span style="font-size:28px; font-weight: bold; widht: 50%;" id="header-info"><i id="icon" style="font-size: 28px;" class="fa fa-spinner fa-pulse fa-3x fa-fw"></i> Carregando...</span><span id="btn-voltar" style="float: right; widht: 50%; display: none;"> <button class="btn btn-primary" onclick="Botao_voltar()">Voltar</button></span></div><div class="invi" style="width: 100%;"><input type="text" id="valor_scroll" value="0" hidden><div style="height: 300px; background-color: white;"><div style="width: 400px; float: left;"><div class="modelo3d" id="viewport1" style="width:400px; height:300px;"></div></div><div style="background-color: white; width: 70%; float:right;"><b style="font-size: 28px";>Modelo: <span style="color:blue;">4hpg.pdb</span> Score: <span style="color:green;" id="score1"> </span></b> <textarea disabled style="width: 100%;" rows="7" cols="50" name="" disabled id="modelo1" data-modelo=4hpg.pdb>Realizando a leitura do Arquivo...
Aguarde um momento...</textarea> <button  class="block btn btn-secondary" onclick="Bloquear();"><i class="fa fa-lock" aria-hidden="true"></i> Bloquear Scroll</button> <button class="btn btn-primary" onclick="Download(1);" ><i class="fa fa-download"></i> Download Arquivo</button> </div></div><div style="height: 300px; background-color: white;"><div style="width: 400px; float: left;"><div class="modelo3d" id="viewport2" style="width:400px; height:300px;"></div></div><div style="background-color: white; width: 70%; float:right;"><b style="font-size: 28px";>Modelo: <span style="color:blue;">beta_glucosidade4.fasta.B99990001.pdb</span> Score: <span style="color:green;" id="score2"> </span></b> <textarea disabled style="width: 100%;" rows="7" cols="50" name="" disabled id="modelo2" data-modelo=beta_glucosidade4.fasta.B99990001.pdb>Realizando a leitura do Arquivo...
Aguarde um momento...</textarea> <button  class="block btn btn-secondary" onclick="Bloquear();"><i class="fa fa-lock" aria-hidden="true"></i> Bloquear Scroll</button> <button class="btn btn-primary" onclick="Download(2);" ><i class="fa fa-download"></i> Download Arquivo</button> </div></div><div style="height: 300px; background-color: white;"><div style="width: 400px; float: left;"><div class="modelo3d" id="viewport3" style="width:400px; height:300px;"></div></div><div style="background-color: white; width: 70%; float:right;"><b style="font-size: 28px";>Modelo: <span style="color:blue;">beta_glucosidade4.fasta.B99990002.pdb</span> Score: <span style="color:green;" id="score3"> </span></b> <textarea disabled style="width: 100%;" rows="7" cols="50" name="" disabled id="modelo3" data-modelo=beta_glucosidade4.fasta.B99990002.pdb>Realizando a leitura do Arquivo...
Aguarde um momento...</textarea> <button  class="block btn btn-secondary" onclick="Bloquear();"><i class="fa fa-lock" aria-hidden="true"></i> Bloquear Scroll</button> <button class="btn btn-primary" onclick="Download(3);" ><i class="fa fa-download"></i> Download Arquivo</button> </div></div><div style="height: 300px; background-color: white;"><div style="width: 400px; float: left;"><div class="modelo3d" id="viewport4" style="width:400px; height:300px;"></div></div><div style="background-color: white; width: 70%; float:right;"><b style="font-size: 28px";>Modelo: <span style="color:blue;">beta_glucosidade4.fasta.B99990003.pdb</span> Score: <span style="color:green;" id="score4"> </span></b> <textarea disabled style="width: 100%;" rows="7" cols="50" name="" disabled id="modelo4" data-modelo=beta_glucosidade4.fasta.B99990003.pdb>Realizando a leitura do Arquivo...
Aguarde um momento...</textarea> <button  class="block btn btn-secondary" onclick="Bloquear();"><i class="fa fa-lock" aria-hidden="true"></i> Bloquear Scroll</button> <button class="btn btn-primary" onclick="Download(4);" ><i class="fa fa-download"></i> Download Arquivo</button> </div></div></div><script>function Bloquear(){var acao = $("#valor_scroll").val();if(acao == 0){$("html").css("overflow", "hidden");$("#valor_scroll").val("1");$(".block").html("Desbloquear Scroll"); }else{$("html").css("overflow", "");$("#valor_scroll").val("0");   $(".block").html("Bloquear Scroll");} }document.addEventListener("DOMContentLoaded", function () {var stage1 = new NGL.Stage("viewport1");var stage2 = new NGL.Stage("viewport2");var stage3 = new NGL.Stage("viewport3");var stage4 = new NGL.Stage("viewport4");window.addEventListener("resize", function (event) {stage1.handleResize();stage2.handleResize();stage3.handleResize();stage4.handleResize();}, false);stage1.loadFile("/media//arquivos_beta_glucosidade4.fasta/4hpg.pdb", { defaultRepresentation: true });stage2.loadFile("/media//arquivos_beta_glucosidade4.fasta/beta_glucosidade4.fasta.B99990001.pdb", { defaultRepresentation: true });stage3.loadFile("/media//arquivos_beta_glucosidade4.fasta/beta_glucosidade4.fasta.B99990002.pdb", { defaultRepresentation: true });stage4.loadFile("/media//arquivos_beta_glucosidade4.fasta/beta_glucosidade4.fasta.B99990003.pdb", { defaultRepresentation: true });});function Download(modelo){ var modelo_3d = $("#modelo"+modelo).data("modelo"); var diretorio = "/media/arquivos_beta_glucosidade4.fasta/"+modelo_3d;  window.open(diretorio); }$.ajax({method: "POST",url: "/pipeline/lerArquivos/12" , dataType: "json", data: { csrfmiddlewaretoken: "{{csrf_token}}"  },success: function(data){ for(i = 1; i <= data["quantidade"]; i++){ $("#modelo"+i).html(data["modelo"+i]); if(i == 1){ $("#score"+i).html("Template - Sem Score") }else { $("#score"+i).html(data["score"+i]); } } $("#icon").removeClass("fa fa-spinner fa-pulse fa-3x fa-fw"); $("#info_loading").removeClass("alert-warning").addClass("alert-info"); $("#header-info").html("Carregado com Sucesso!"); $("#btn-voltar").css("display", "block"); }  });  function Botao_voltar(){ window.location.href = "/pipeline/upload";  }</script> {% endblock %}