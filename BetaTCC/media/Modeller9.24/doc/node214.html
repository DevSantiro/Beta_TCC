<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2018.3 (Released July 19, 2018) -->
<HTML lang="EN">
<HEAD>
<TITLE>Restraints.make_distance() &mdash; make distance restraints</TITLE>
<META NAME="description" CONTENT="Restraints.make_distance() &mdash; make distance restraints">
<META NAME="keywords" CONTENT="manual">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="viewport" CONTENT="width=device-width, initial-scale=1.0">
<META NAME="Generator" CONTENT="LaTeX2HTML v2018.3">

<LINK REL="STYLESHEET" HREF="manual.css">
<LINK REL="STYLESHEET" HREF="pygments.css">

<LINK REL="next" HREF="node215.html">
<LINK REL="previous" HREF="node213.html">
<LINK REL="next" HREF="node215.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A
 HREF="node215.html">
<IMG WIDTH="37" HEIGHT="24" ALT="next" SRC="next.png"></A> 
<A
 HREF="node206.html">
<IMG WIDTH="26" HEIGHT="24" ALT="up" SRC="up.png"></A> 
<A
 HREF="node213.html">
<IMG WIDTH="63" HEIGHT="24" ALT="previous" SRC="prev.png"></A> 
<A ID="tex2html2918"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALT="contents" SRC="contents.png"></A> 
<A ID="tex2html2920"
  HREF="node513.html">
<IMG WIDTH="43" HEIGHT="24" ALT="index" SRC="index.png"></A> 
<BR>
<B> Next:</B> <A
 HREF="node215.html">Restraints.unpick_all()   unselect</A>
<B> Up:</B> <A
 HREF="node206.html">The Restraints class: static</A>
<B> Previous:</B> <A
 HREF="node213.html">Restraints.make()   make</A>
 &nbsp; <B>  <A ID="tex2html2919"
  HREF="node1.html">Contents</A></B> 
 &nbsp; <B>  <A ID="tex2html2921"
  HREF="node513.html">Index</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H2><A ID="SECTION001178000000000000000">
Restraints.make_distance() &mdash; make distance restraints</A>
</H2> <A NAME="19272"></A><A ID="CMD:Restraints.makedistance"></A>
<A NAME="19275"></A><TT>make_distance(atmsel1, atmsel2, aln, spline_on_site, restraint_group, maximal_distance, residue_span_range=(0, 99999), residue_span_sign=True, distance_rsr_model=1, basis_pdf_weight='LOCAL', basis_relative_weight=0.05, spline_dx=0.5, spline_min_points=5, spline_range=4.0, accessibility_type=8, restraint_stdev=(0.1, 1.0), restraint_stdev2=(0.0, 0.0, 0.0), surftyp=1, distngh=6.0, edat=None, io=None, exclude_distance=0.0)</TT>
<BR>
<DL>
<DT><STRONG>Requirements:</STRONG></DT>
<DD>topology <TT>&amp;</TT> parameters
                             
</DD>
</DL>

<P>
<BLOCKQUOTE>
This command calculates and selects new distance restraints.
See <B><A HREF="node213.html#CMD:Restraints.make">Restraints.make()</A></B><A NAME="19308"></A> for full details.
</BLOCKQUOTE>
<P>
<BLOCKQUOTE>Distance restraints are generated for all pairs of atoms <SPAN CLASS="MATH"><IMG STYLE="height: 2.03ex; vertical-align: -0.57ex; " SRC="img65.png"
 ALT="$i,j$"></SPAN> where
atom <SPAN CLASS="MATH"><IMG STYLE="height: 1.61ex; vertical-align: -0.12ex; " SRC="img60.png"
 ALT="$i$"></SPAN> is from selection <I CLASS="sans">atmsel1</I><A NAME="19313"></A> and atom <SPAN CLASS="MATH"><IMG STYLE="height: 2.03ex; vertical-align: -0.57ex; " SRC="img66.png"
 ALT="$j$"></SPAN> is from selection
<I CLASS="sans">atmsel2</I><A NAME="19316"></A>. Moreover, for a restraint to be created, at least one distance in
the template structures must be less than <I CLASS="sans">maximal_distance</I><A NAME="19319"></A> (in &#197;).
The mean of this basis pdf is equal to the template distance and its standard
deviation <SPAN CLASS="MATH"><IMG STYLE="height: 1.12ex; vertical-align: -0.12ex; " SRC="img67.png"
 ALT="$\sigma$"></SPAN> is calculated from an analytic model specified by
<I CLASS="sans">distance_rsr_model</I><A NAME="19322"></A>. Use model 5 for <!-- MATH
 ${C}_\alpha$
 -->
<SPAN CLASS="MATH">C<sub>&alpha;</sub></SPAN>-<!-- MATH
 ${C}_\alpha$
 -->
<SPAN CLASS="MATH">C<sub>&alpha;</sub></SPAN> distances and model 
6 for N-O distances. For models 1 through 6, this standard deviation is
transformed by <!-- MATH
 $\sigma' = a + b*(\sigma+W_{g})$
 -->
<SPAN CLASS="MATH"><IMG STYLE="height: 2.45ex; vertical-align: -0.78ex; " SRC="img68.png"
 ALT="$\sigma' = a + b*(\sigma+W_{g})$"></SPAN> where <SPAN CLASS="MATH"><IMG STYLE="height: 1.12ex; vertical-align: -0.12ex; " SRC="img22.png"
 ALT="$a$"></SPAN> and <SPAN CLASS="MATH"><IMG STYLE="height: 1.68ex; vertical-align: -0.12ex; " SRC="img23.png"
 ALT="$b$"></SPAN> are given
by <I CLASS="sans">restraint_stdev</I><A NAME="19327"></A> and <SPAN CLASS="MATH"><IMG STYLE="height: 2.31ex; vertical-align: -0.78ex; " SRC="img69.png"
 ALT="$W_{g}$"></SPAN> is a gap weighting function of the form
<!-- MATH
 $W_{g} = 0.6 * \max(0, 4-g_{av})$
 -->
<SPAN CLASS="MATH"><IMG STYLE="height: 2.45ex; vertical-align: -0.78ex; " SRC="img70.png"
 ALT="$W_{g} = 0.6 * \max(0, 4-g_{av})$"></SPAN>. <SPAN CLASS="MATH"><IMG STYLE="height: 1.54ex; vertical-align: -0.57ex; " SRC="img71.png"
 ALT="$g_{av}$"></SPAN> is the average distance of the
two residues involved in the restraint from a gap. For models 3 through 6,
this is additionally transformed by
<!-- MATH
 $\sigma'' = \sigma' + \sum_{i}[d+e*\max(0,f-g_{i})]$
 -->
<SPAN CLASS="MATH"><IMG STYLE="height: 2.52ex; vertical-align: -0.81ex; " SRC="img72.png"
 ALT="$\sigma'' = \sigma' + \sum_{i}[d+e*\max(0,f-g_{i})]$"></SPAN> where the sum is over each
of the atoms <SPAN CLASS="MATH"><IMG STYLE="height: 1.61ex; vertical-align: -0.12ex; " SRC="img60.png"
 ALT="$i$"></SPAN> involved in the distance, <SPAN CLASS="MATH"><IMG STYLE="height: 1.68ex; vertical-align: -0.12ex; " SRC="img14.png"
 ALT="$d$"></SPAN> <SPAN CLASS="MATH"><IMG STYLE="height: 1.12ex; vertical-align: -0.12ex; " SRC="img73.png"
 ALT="$e$"></SPAN> and <SPAN CLASS="MATH"><IMG STYLE="height: 2.17ex; vertical-align: -0.57ex; " SRC="img74.png"
 ALT="$f$"></SPAN> are given by
<I CLASS="sans">restraint_stdev2</I><A NAME="19330"></A>, and <SPAN CLASS="MATH"><IMG STYLE="height: 1.54ex; vertical-align: -0.57ex; " SRC="img75.png"
 ALT="$g_{i}$"></SPAN> is the distance of each residue from a gap.
The first six models are polynomials and depend on several structural features 
of the template and its similarity to the target. The polynomial 
coefficients are specified in library file <TT>'$PARAMS_LIB'</TT>. When 
&ldquo;polynomial model&rdquo; 7 is selected, the standard deviation of restraints
is set to constant <SPAN CLASS="MATH"><IMG STYLE="height: 1.12ex; vertical-align: -0.12ex; " SRC="img22.png"
 ALT="$a$"></SPAN>. Each basis pdf in the distance pdf corresponds
to one template structure with an equivalent distance.
</BLOCKQUOTE>
<P>
<BLOCKQUOTE>In addition, the atom pairs restrained by homology-derived restraints
must by default not be in a chemical bond, chemical angle, dihedral angle, 
or on an excluded pairs list. This behavior can be changed by resetting
<I CLASS="sans"><A HREF="node135.html#MEMB:energydata.excllocal">energy_data.excl_local</A></I><A NAME="19334"></A> (see <B><A HREF="node267.html#CMD:conjugategradients">conjugate_gradients()</A></B><A NAME="19339"></A>).
</BLOCKQUOTE>
<P>
<BLOCKQUOTE>If the restrained distance for a given atom pair is less than
<I CLASS="sans">exclude_distance</I><A NAME="19344"></A>, that pair is also excluded from the nonbonded list.
This is useful if you are building short distance restraints to approximate
bonds.
</BLOCKQUOTE>
<P>
<BLOCKQUOTE>An 'equivalent' distance is defined as the distance between a pair of
equivalent atoms. See <B><A HREF="node390.html#CMD:Atom.getequivalentatom">Atom.get_equivalent_atom()</A></B><A NAME="19347"></A> for the rules for
determining equivalency.

</BLOCKQUOTE>

<P>

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A
 HREF="node215.html">
<IMG WIDTH="37" HEIGHT="24" ALT="next" SRC="next.png"></A> 
<A
 HREF="node206.html">
<IMG WIDTH="26" HEIGHT="24" ALT="up" SRC="up.png"></A> 
<A
 HREF="node213.html">
<IMG WIDTH="63" HEIGHT="24" ALT="previous" SRC="prev.png"></A> 
<A ID="tex2html2918"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALT="contents" SRC="contents.png"></A> 
<A ID="tex2html2920"
  HREF="node513.html">
<IMG WIDTH="43" HEIGHT="24" ALT="index" SRC="index.png"></A> 
<BR>
<B> Next:</B> <A
 HREF="node215.html">Restraints.unpick_all()   unselect</A>
<B> Up:</B> <A
 HREF="node206.html">The Restraints class: static</A>
<B> Previous:</B> <A
 HREF="node213.html">Restraints.make()   make</A>
 &nbsp; <B>  <A ID="tex2html2919"
  HREF="node1.html">Contents</A></B> 
 &nbsp; <B>  <A ID="tex2html2921"
  HREF="node513.html">Index</A></B> </DIV>
<!--End of Navigation Panel-->

</BODY>
</HTML>
